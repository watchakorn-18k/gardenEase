import{s as Tt,n as Pt,o as Nt,d as At}from"../chunks/scheduler.CS4_fOFt.js";import{S as Ft,i as Gt,e as c,s as x,c as d,a as p,g as D,b,d as h,f as n,j as M,k as l,v as Ht,w as lt,x as nt,y as xt}from"../chunks/index.FJVWEHr7.js";import{e as qt}from"../chunks/each.D6YF6ztN.js";import{d as Lt,Q as zt,c as Ot}from"../chunks/appwrite_service.CTUym6hl.js";const Rt="gargenEase";async function Bt(r){try{const t=await Lt.listDocuments(Rt,"6701248b00162efa6fd3",[zt.equal("user_id",r)]);return console.log("response",t),t.documents.map(({$collectionId:e,$databaseId:o,$id:v,$permissions:y,$updatedAt:u,$createdAt:a,..._})=>({..._}))}catch(t){throw console.error("Error fetching user plants:",t),t}}const Qt="67006a13002025dfa1aa",Ut="gargenEase";async function Wt(r){try{const t=await Lt.listDocuments(Ut,Qt,[zt.equal("plant_id",r)]);if(t.documents.length===0)return console.log(`No plant found with plant_id: ${r}`),null;const s=t.documents[0];return{plant_id:s.$id,name:s.name,description:s.description,grow_time:s.grow_time,water_needed:s.water_needed,sunlight:s.sunlight,soil_type:s.soil_type,image_url:s.image_url}}catch(t){throw console.error("Error fetching plant:",t),t}}function Mt(r,t,s){const e=r.slice();return e[8]=t[s],e}function Yt(r){let t,s="not yet";return{c(){t=c("div"),t.textContent=s,this.h()},l(e){t=d(e,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-1ahdsc1"&&(t.textContent=s),this.h()},h(){n(t,"class","badge badge-primary badge-outline")},m(e,o){M(e,t,o)},d(e){e&&h(t)}}}function Jt(r){let t,s="already";return{c(){t=c("div"),t.textContent=s,this.h()},l(e){t=d(e,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-zrtbq6"&&(t.textContent=s),this.h()},h(){n(t,"class","badge badge-primary")},m(e,o){M(e,t,o)},d(e){e&&h(t)}}}function Kt(r){let t,s="not yet";return{c(){t=c("div"),t.textContent=s,this.h()},l(e){t=d(e,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-1ahdsc1"&&(t.textContent=s),this.h()},h(){n(t,"class","badge badge-primary badge-outline")},m(e,o){M(e,t,o)},d(e){e&&h(t)}}}function Xt(r){let t,s="already";return{c(){t=c("div"),t.textContent=s,this.h()},l(e){t=d(e,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-zrtbq6"&&(t.textContent=s),this.h()},h(){n(t,"class","badge badge-primary")},m(e,o){M(e,t,o)},d(e){e&&h(t)}}}function Zt(r){let t,s="not yet";return{c(){t=c("div"),t.textContent=s,this.h()},l(e){t=d(e,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-1ahdsc1"&&(t.textContent=s),this.h()},h(){n(t,"class","badge badge-primary badge-outline")},m(e,o){M(e,t,o)},d(e){e&&h(t)}}}function te(r){let t,s="already";return{c(){t=c("div"),t.textContent=s,this.h()},l(e){t=d(e,"DIV",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-zrtbq6"&&(t.textContent=s),this.h()},h(){n(t,"class","badge badge-primary")},m(e,o){M(e,t,o)},d(e){e&&h(t)}}}function jt(r){let t,s,e,o,v,y,u,a,_,i=r[8].plant.name+"",g,H,w,j,bt="Water status",rt,it,I,L,yt="Sunlight status",ot,ct,S,z,Ct="Fertilizer status",dt,ut,$,T,Dt="Last Date",ft,G,O=r[1](r[8].lasted_at)+"",B,ht,P,A,N,wt="Progress",_t,F,R=r[8].progress+"",Q,vt,pt,q,U,gt;function It(f,m){return f[8].water_status?Jt:Yt}let W=It(r),E=W(r);function St(f,m){return f[8].sunlight_status?Xt:Kt}let Y=St(r),k=Y(r);function Et(f,m){return f[8].fertilizer_status?te:Zt}let J=Et(r),V=J(r);return{c(){t=c("a"),s=c("div"),e=c("figure"),o=c("img"),u=x(),a=c("div"),_=c("h2"),g=lt(i),H=x(),w=c("div"),j=c("p"),j.textContent=bt,rt=x(),E.c(),it=x(),I=c("div"),L=c("p"),L.textContent=yt,ot=x(),k.c(),ct=x(),S=c("div"),z=c("p"),z.textContent=Ct,dt=x(),V.c(),ut=x(),$=c("div"),T=c("span"),T.textContent=Dt,ft=x(),G=c("span"),B=lt(O),ht=x(),P=c("div"),A=c("div"),N=c("div"),N.textContent=wt,_t=x(),F=c("div"),Q=lt(R),vt=lt("%"),pt=x(),q=c("progress"),gt=x(),this.h()},l(f){t=d(f,"A",{class:!0,href:!0});var m=p(t);s=d(m,"DIV",{class:!0});var K=p(s);e=d(K,"FIGURE",{});var kt=p(e);o=d(kt,"IMG",{src:!0,alt:!0}),kt.forEach(h),u=b(K),a=d(K,"DIV",{class:!0});var C=p(a);_=d(C,"H2",{class:!0});var Vt=p(_);g=nt(Vt,i),Vt.forEach(h),H=b(C),w=d(C,"DIV",{class:!0});var X=p(w);j=d(X,"P",{class:!0,"data-svelte-h":!0}),D(j)!=="svelte-1aa412"&&(j.textContent=bt),rt=b(X),E.l(X),X.forEach(h),it=b(C),I=d(C,"DIV",{class:!0});var Z=p(I);L=d(Z,"P",{class:!0,"data-svelte-h":!0}),D(L)!=="svelte-1uxx6df"&&(L.textContent=yt),ot=b(Z),k.l(Z),Z.forEach(h),ct=b(C),S=d(C,"DIV",{class:!0});var tt=p(S);z=d(tt,"P",{class:!0,"data-svelte-h":!0}),D(z)!=="svelte-7lgwrz"&&(z.textContent=Ct),dt=b(tt),V.l(tt),tt.forEach(h),ut=b(C),$=d(C,"DIV",{class:!0});var et=p($);T=d(et,"SPAN",{class:!0,"data-svelte-h":!0}),D(T)!=="svelte-528mrn"&&(T.textContent=Dt),ft=b(et),G=d(et,"SPAN",{class:!0});var $t=p(G);B=nt($t,O),$t.forEach(h),et.forEach(h),ht=b(C),P=d(C,"DIV",{class:!0});var st=p(P);A=d(st,"DIV",{class:!0});var at=p(A);N=d(at,"DIV",{class:!0,"data-svelte-h":!0}),D(N)!=="svelte-xifaa1"&&(N.textContent=wt),_t=b(at),F=d(at,"DIV",{class:!0});var mt=p(F);Q=nt(mt,R),vt=nt(mt,"%"),mt.forEach(h),at.forEach(h),pt=b(st),q=d(st,"PROGRESS",{class:!0,max:!0}),p(q).forEach(h),st.forEach(h),C.forEach(h),K.forEach(h),gt=b(m),m.forEach(h),this.h()},h(){At(o.src,v=r[8].plant.image_url)||n(o,"src",v),n(o,"alt",y=r[8].plant.name),n(_,"class","card-title"),n(j,"class","text-sm"),n(w,"class","flex justify-between items-center"),n(L,"class","text-sm"),n(I,"class","flex justify-between items-center"),n(z,"class","text-sm"),n(S,"class","flex justify-between items-center"),n(T,"class","text-sm"),n(G,"class","text-sm"),n($,"class","flex justify-between items-center"),n(N,"class","text-sm w-auto"),n(F,"class","text-sm"),n(A,"class","flex justify-between w-full"),n(q,"class","progress w-full"),q.value=U=r[8].progress,n(q,"max","100"),n(P,"class","mt-4 flex flex-col gap-2"),n(a,"class","card-body"),n(s,"class","card bg-base-100 w-full md:w-64 h-96 shadow-xl"),n(t,"class","flex flex-col"),n(t,"href","/")},m(f,m){M(f,t,m),l(t,s),l(s,e),l(e,o),l(s,u),l(s,a),l(a,_),l(_,g),l(a,H),l(a,w),l(w,j),l(w,rt),E.m(w,null),l(a,it),l(a,I),l(I,L),l(I,ot),k.m(I,null),l(a,ct),l(a,S),l(S,z),l(S,dt),V.m(S,null),l(a,ut),l(a,$),l($,T),l($,ft),l($,G),l(G,B),l(a,ht),l(a,P),l(P,A),l(A,N),l(A,_t),l(A,F),l(F,Q),l(F,vt),l(P,pt),l(P,q),l(t,gt)},p(f,m){m&1&&!At(o.src,v=f[8].plant.image_url)&&n(o,"src",v),m&1&&y!==(y=f[8].plant.name)&&n(o,"alt",y),m&1&&i!==(i=f[8].plant.name+"")&&xt(g,i),W!==(W=It(f))&&(E.d(1),E=W(f),E&&(E.c(),E.m(w,null))),Y!==(Y=St(f))&&(k.d(1),k=Y(f),k&&(k.c(),k.m(I,null))),J!==(J=Et(f))&&(V.d(1),V=J(f),V&&(V.c(),V.m(S,null))),m&1&&O!==(O=f[1](f[8].lasted_at)+"")&&xt(B,O),m&1&&R!==(R=f[8].progress+"")&&xt(Q,R),m&1&&U!==(U=f[8].progress)&&(q.value=U)},d(f){f&&h(t),E.d(),k.d(),V.d()}}}function ee(r){let t,s,e='<h1 class="text-2xl font-bold">My Garden</h1>',o,v,y=qt(r[0]),u=[];for(let a=0;a<y.length;a+=1)u[a]=jt(Mt(r,y,a));return{c(){t=c("div"),s=c("div"),s.innerHTML=e,o=x(),v=c("div");for(let a=0;a<u.length;a+=1)u[a].c();this.h()},l(a){t=d(a,"DIV",{class:!0});var _=p(t);s=d(_,"DIV",{class:!0,"data-svelte-h":!0}),D(s)!=="svelte-5hpqo"&&(s.innerHTML=e),o=b(_),v=d(_,"DIV",{class:!0});var i=p(v);for(let g=0;g<u.length;g+=1)u[g].l(i);i.forEach(h),_.forEach(h),this.h()},h(){n(s,"class","flex justify-between items-center"),n(v,"class","flex flex-wrap gap-4"),n(t,"class","flex flex-col m-6 gap-4")},m(a,_){M(a,t,_),l(t,s),l(t,o),l(t,v);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(v,null)},p(a,[_]){if(_&3){y=qt(a[0]);let i;for(i=0;i<y.length;i+=1){const g=Mt(a,y,i);u[i]?u[i].p(g,_):(u[i]=jt(g),u[i].c(),u[i].m(v,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=y.length}},i:Pt,o:Pt,d(a){a&&h(t),Ht(u,a)}}}function se(r,t,s){let e=[],o=[];Nt(async()=>{const u=await Ot();if(u.status){o=await Bt(u.data.$id);const _=await Promise.all(o.map(async i=>{const g=await Wt(i.plant_id);return{...i,plant:g}}));s(0,e=_)}});const v=new Date;return String(v.getDate()).padStart(2,"0"),String(v.getMonth()+1).padStart(2,"0"),v.getFullYear(),[e,u=>{const a=new Date(u),_=String(a.getDate()).padStart(2,"0"),i=String(a.getMonth()+1).padStart(2,"0"),g=a.getFullYear(),H=String(a.getHours()).padStart(2,"0"),w=String(a.getMinutes()).padStart(2,"0");return String(a.getSeconds()).padStart(2,"0"),`${_}/${i}/${g} ${H}:${w}`}]}class ie extends Ft{constructor(t){super(),Gt(this,t,se,ee,Tt,{})}}export{ie as component};
